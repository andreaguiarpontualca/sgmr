<mvc:View controllerName="com.pontual.sgmr.controller.ListaMaterialRodante"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc" 
    displayBlock="true"
    xmlns="sap.m">
    <Page id="pageInicio" 
          title="{i18n>title}" 
          titleAlignment="Center"
          showNavButton="true"   
          navButtonPress="onNavBack"       
          class="sapUiContentPadding sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer">
        <headerContent>
        <Button
				tooltip="{i18n>sincronizar}"
				icon="sap-icon://synchronize"
				press="onSincronizar"
                type="Emphasized"/>
            <ObjectStatus
                id="networkStatus"
                active="false"
                inverted="true"
                icon="{path: 'conexaoModel>statusConexao',
                    formatter: 'com.pontual.sgmr.model.formatter.getIconeConexao'}"
                state="{path: 'conexaoModel>statusConexao',
                        formatter: 'com.pontual.sgmr.model.formatter.getCorIconeConexao'}"
            />
        </headerContent>            
		<content>               
                    <Table id="idListaMaterialRodanteTable" 
                    alternateRowColors="true"
                    autoPopinMode="true" 
                    contextualWidth="Auto"		
                    growing="false" 
                    growingThreshold="10" 
                    items="{listaMaterialRodanteModel>/}">
                        <headerToolbar>
                            <OverflowToolbar id="otbSubheader">
                                <Title text="Material Rodante" level="H2" />
                                <ToolbarSpacer />
                                <SearchField id="searchOrdem" search="onSearchOrdem" width="50%" placeholder="Pesquisa" />	   
                            </OverflowToolbar>
                        </headerToolbar>
                        <columns>
                            <Column hAlign="Begin">
                                <Text text="Equipamento" />
                            </Column>								
                        </columns>
                        <items>
                            <ColumnListItem vAlign="Middle" navigated="true" type="Navigation" press="onMaterialRodantePress">
                                <cells>
                                    <ObjectIdentifier title="{listaMaterialRodanteModel>Equnr}" text="{listaMaterialRodanteModel>Eqktx}"/>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
		</content>
		<footer>
			<OverflowToolbar>
				<Button id="messagePopoverBtn"
					visible="{=!!${message>/}.length}"
					icon="{ path: '/', formatter: '.buttonIconFormatter' }"
					type="{ path: '/', formatter: '.buttonTypeFormatter' }"
					text= "{path: '/', formatter: '.highestSeverityMessages' }"
					press=".handleMessagePopoverPress"
					ariaHasPopup="Dialog"/>                      
				<ToolbarSpacer/>

			</OverflowToolbar>
		</footer>
    </Page>
</mvc:View>
